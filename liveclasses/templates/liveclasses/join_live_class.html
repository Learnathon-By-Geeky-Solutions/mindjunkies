<!DOCTYPE html>
<html lang="en">
<head>
    <title>Live Class - {{ live_class.topic }}</title>
</head>
<body>
    <h2>Live Class: {{ live_class.topic }}</h2>
    <div id="jitsi-container" style="width: 100%; height: 600px;"></div>

    <script src="https://8x8.vc/external_api.js"></script>
    <script>
        const domain = "8x8.vc";
        const options = {
            roomName: "{{ live_class.meeting_id }}",
            width: "100%",
            height: 600,
            parentNode: document.querySelector("#jitsi-container"),
            jwt: "{{ meeting_url }}",  // Secure authentication token
            userInfo: {
                displayName: "{{ request.user.username }}"
            }
        };

        const api = new JitsiMeetExternalAPI(domain, options);
    </script>
</body>
</html>
