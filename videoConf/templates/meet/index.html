<!DOCTYPE html>
<html>
  <head>
    <script
      src="https://8x8.vc/{{ JITSI_MAGIC_COOKIE }}/external_api.js"
      integrity="sha384-{{SRI_HASH}}"
      crossorigin="anonymous"
      async
    ></script>
    <style>
      html,
      body,
      #jaas-container {
        height: 100%;
      }
    </style>
    <script type="text/javascript">
      window.onload = () => {
        const api = new JitsiMeetExternalAPI("8x8.vc", {
          roomName: "{{ JITSI_MAGIC_COOKIE }}/{{ room_name }}",
          parentNode: document.querySelector("#jaas-container"),
          onError: (error) => {
            console.error("Conference error:", error);
            // Handle error appropriately
            const errorDiv = document.createElement("div");
            errorDiv.className = "error-message";
            errorDiv.textContent =
              "Conference error occurred. Please try again.";
            document.querySelector("#jaas-container").appendChild(errorDiv);
          },
        });
      };
    </script>
  </head>
  <body>
    <div id="jaas-container"></div>
  </body>
</html>
